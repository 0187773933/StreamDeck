<html>
	<head>
		<title>Master's Closet - Send Mass Email</title>
		<link rel="icon" href="">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
	</head>
	<body>
		<div class="container">
			<div class="row">
				<center><h1>Master's Closet - Send Mass Email</h1></center>
			</div>
			<br>
			<div class="row">
				<div class="col-lg-3 col-md-3 col-sm-3"></div>
				<div class="col-lg-6 col-md-6 col-sm-6">
					<form id="form-sms" action="/admin/user/email/all" method="POST">
						<div class="form-row">
							<div class="col">
								<div class="input-group">
									<span class="input-group-text">Message</span>
									<textarea class="form-control" name="email_message" aria-label="message" rows="10" id="email-text-area"></textarea>
								</div>
							</div>
						</div>
						<br>
						<div class="form-row">
							<button id="submit-button" type="submit" class="btn btn-success">Send</button>
						</div>
					</form>
				</div>
				<div class="col-lg-3 col-md-3 col-sm-3"></div>
			</div>
		</div>
		<script>
			document.addEventListener( "DOMContentLoaded" , function() {
				const sms_text_area = document.getElementById( "sms-text-area" );
				const sms_char_count = document.getElementById( "sms-char-count" );
				sms_text_area.addEventListener( "input" , function() {
					const remaining_chars = ( 160 - sms_text_area.value.length );
					sms_char_count.textContent = remaining_chars;
				});
				const sms_form = document.getElementById( "form-sms" );
				sms_form.addEventListener( "submit" , function( event ) {
					if ( event ) { event.preventDefault(); }
					let form_data = new FormData( sms_form );
					console.log( form_data );
					let result = confirm( `Confirm Mass SMS Text of : ${sms_text_area.value}` );
					if ( result === true ) {
						sms_form.submit();
						return;
					}
				});
			});
		</script>
	</body>
</html>